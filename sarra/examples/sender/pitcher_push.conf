
#
# look in the file watch/pitcher_server.conf for more information.
# this is the sender to upload from a client system to a server host.
#
# do sr_sender edit default.conf and add the lines:
#
#  declare env PITCHERBROKER=hpfx1.science.gc.ca
#
#  the name of the remote pump to be uploading to.
#
#  declare env PITCHERUSER=pu
#  declare env PITCHERUSERHOME=/home/pu
#
#  pu is the username you use to log into the remote pump.
#  and give the home directory of that user on when ssh'ing to that pump.
#
#  works with watch/pitcher_server.conf   - watch pump directory for modifications.
#  works with watch/pitcher_client.conf   - watch client for modifications.
#  works with subscribe/pitcher_pull.conf - download from server.


broker amqp://${PITCHERUSER}@${PITCHERBROKER}/

exchange xs_${PITCHERUSER}_pitcher_client_${HOSTNAME}

strip .*/sr_Pitcher/
mirror

destination sftp://${PITCHERUSER}@${PITCHERBROKER}/
directory ${PITCHERUSERHOME}/sr_Pitcher
accept .*




